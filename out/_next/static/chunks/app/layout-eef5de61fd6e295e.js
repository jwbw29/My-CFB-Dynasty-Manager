(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{10:(e,a,s)=>{"use strict";s.d(a,{$v:()=>p,EO:()=>h,Lt:()=>c,Rx:()=>g,Zr:()=>f,ck:()=>x,r7:()=>y,tv:()=>i,wd:()=>u});var t=s(5155),r=s(2115),l=s(7649),o=s(9434),n=s(285);let c=l.bL,i=l.l9,d=l.ZL,m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.hJ,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:a})});m.displayName=l.hJ.displayName;let h=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsxs)(d,{children:[(0,t.jsx)(m,{}),(0,t.jsx)(l.UC,{ref:a,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});h.displayName=l.UC.displayName;let u=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...s})};u.displayName="AlertDialogHeader";let x=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};x.displayName="AlertDialogFooter";let y=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.hE,{ref:a,className:(0,o.cn)("text-lg font-semibold",s),...r})});y.displayName=l.hE.displayName;let p=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.VY,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",s),...r})});p.displayName=l.VY.displayName;let g=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.rc,{ref:a,className:(0,o.cn)((0,n.r)(),s),...r})});g.displayName=l.rc.displayName;let f=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.ZD,{ref:a,className:(0,o.cn)((0,n.r)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})});f.displayName=l.ZD.displayName},285:(e,a,s)=>{"use strict";s.d(a,{$:()=>i,r:()=>c});var t=s(5155),r=s(2115),l=s(9708),o=s(2085),n=s(9434);let c=(0,o.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=r.forwardRef((e,a)=>{let{className:s,variant:r,size:o,asChild:i=!1,...d}=e,m=i?l.DX:"button";return(0,t.jsx)(m,{className:(0,n.cn)(c({variant:r,size:o,className:s})),ref:a,...d})});i.displayName="Button"},347:()=>{},2523:(e,a,s)=>{"use strict";s.d(a,{p:()=>o});var t=s(5155),r=s(2115),l=s(9434);let o=r.forwardRef((e,a)=>{let{className:s,type:r,...o}=e;return(0,t.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...o})});o.displayName="Input"},4084:(e,a,s)=>{"use strict";s.d(a,{UG:()=>n,VX:()=>o,nl:()=>c});var t=s(3568);let r={duration:2e3,position:"top-right"},l=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l={...r,...s};switch(a){case"success":return t.oR.success(e,l);case"error":return t.oR.error(e,l);case"loading":return t.oR.loading(e,l);default:return(0,t.oR)(e,l)}},o=(e,a)=>l(e,"success",a),n=(e,a)=>l(e,"error",a),c={SAVE_SUCCESS:"Changes saved successfully",SAVE_ERROR:"Failed to save changes",DELETE_SUCCESS:"Item deleted successfully",DELETE_ERROR:"Failed to delete item",UPDATE_SUCCESS:"Update successful",UPDATE_ERROR:"Update failed",ADD_SUCCESS:"Item added successfully",ADD_ERROR:"Failed to add item",GENERIC_ERROR:"An error occurred. Please try again.",LOADING:"Processing...",LOAD_ERROR:"Error Loading!"}},4165:(e,a,s)=>{"use strict";s.d(a,{Cf:()=>m,Es:()=>u,L3:()=>x,c7:()=>h,lG:()=>c});var t=s(5155),r=s(2115),l=s(5452),o=s(4416),n=s(9434);let c=l.bL;l.l9;let i=l.ZL;l.bm;let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.hJ,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});d.displayName=l.hJ.displayName;let m=r.forwardRef((e,a)=>{let{className:s,children:r,...c}=e;return(0,t.jsxs)(i,{children:[(0,t.jsx)(d,{}),(0,t.jsxs)(l.UC,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...c,children:[r,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.UC.displayName;let h=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};h.displayName="DialogHeader";let u=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};u.displayName="DialogFooter";let x=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});x.displayName=l.hE.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})}).displayName=l.VY.displayName},4604:(e,a,s)=>{"use strict";s.d(a,{default:()=>M});var t=s(5155),r=s(2115),l=s(661),o=s(6695),n=s(285),c=s(2523),i=s(5057),d=s(9409),m=s(4165),h=s(10),u=s(9874),x=s(3568),y=s(8186),p=s(4616),g=s(9869),f=s(9074),N=s(1007),v=s(646),j=s(4186),b=s(5690),w=s(2525),C=s(1923),S=s(408),E=s.n(S),R=s(5383);let k=e=>{let{onDynastySelected:a}=e,[s,l]=(0,r.useState)([]),[S,k]=(0,r.useState)(!1),[A,D]=(0,r.useState)(!1),[T,_]=(0,r.useState)(null),[O,I]=(0,r.useState)(!1),P=(0,r.useRef)(null),[L,J]=(0,r.useState)({coachName:"",schoolName:"",customTeamName:"",currentYear:2025}),[Y,F]=(0,r.useState)({});(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/fbsColors.csv");if(!e.ok)throw Error("Failed to fetch CSV");let a=await e.text(),s=E().parse(a,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,delimitersToGuess:[","]}),t={};s.data.forEach(e=>{e.Team&&e["Color 1"]&&e["Color 2"]&&(t[e.Team]={primary:e["Color 1"],secondary:e["Color 2"],accent:e["Color 3"]||e["Color 1"]})}),F(t)}catch(e){console.error("Error loading school colors in DynastyLaunch:",e)}})()},[]);let U=(0,r.useCallback)(()=>{try{let e=localStorage.getItem("dynasties");if(e){let a=JSON.parse(e).map(e=>{let a=localStorage.getItem("dynasty_".concat(e.id));if(a)try{var s,t;let r=JSON.parse(a);return{...e,coachName:(null==(s=r.coachProfile)?void 0:s.coachName)||e.coachName,schoolName:(null==(t=r.coachProfile)?void 0:t.schoolName)||e.schoolName,currentYear:r.currentYear||e.currentYear,lastPlayed:e.lastPlayed}}catch(e){}return e});l(a)}}catch(e){console.error("Error loading dynasties:",e),x.oR.error("Error loading dynasties")}},[]);(0,r.useEffect)(()=>{U();let e=()=>{document.hidden||U()},a=()=>U();return document.addEventListener("visibilitychange",e),window.addEventListener("focus",a),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("focus",a)}},[U]);let z=e=>!!e&&"object"==typeof e&&e.version&&e.dynastyData&&e.dynastyData.coachProfile&&e.dynastyData.currentYear,$=(e,a)=>{try{let s=localStorage.getItem("dynasty_".concat(e));if(!s)return null;let t=JSON.parse(s).top25History||{};if(!t||0===Object.keys(t).length)return null;let r=Math.max(...Object.keys(t).map(Number).filter(isFinite)),l=t[r];if(!l)return null;let o=Math.max(...Object.keys(l).map(Number).filter(isFinite)),n=l[o];if(!n)return null;let c=n.findIndex(e=>e.name===a);return -1!==c?c+1:null}catch(e){return null}},V=(0,r.useCallback)(()=>{if(!L.coachName.trim())return void x.oR.error("Coach name required");if(!L.schoolName)return void x.oR.error("School required");let e="CUSTOM_TEAM"===L.schoolName?L.customTeamName.trim():L.schoolName;if(!e)return void x.oR.error("Custom team name required");if(s.find(a=>a.schoolName===e))return void x.oR.error("A dynasty already exists for this school");let t={id:Date.now().toString(),coachName:L.coachName.trim(),schoolName:e,currentYear:L.currentYear,createdAt:new Date().toISOString(),lastPlayed:new Date().toISOString(),seasonsPlayed:0,totalWins:0,totalLosses:0,championships:0};(e=>{(0,R.u_)(),localStorage.setItem("currentDynastyId",e.id);let a=Y[e.schoolName]||{primary:"#3B82F6",secondary:"#EF4444",accent:"#10B981"},s={coachName:e.coachName,schoolName:e.schoolName,schoolColors:a};localStorage.setItem("coachProfile",JSON.stringify(s)),localStorage.setItem("currentYear",e.currentYear.toString()),["players","playerStats","allRecruits","allTransfers","allAwards","yearRecords","allTrophies"].forEach(e=>localStorage.setItem(e,JSON.stringify([]))),localStorage.setItem("top25Rankings",JSON.stringify(Array.from({length:25},()=>({name:"",previousRank:null}))));let t=Array.from({length:21},(e,a)=>({id:a,week:a,location:"vs",opponent:"",result:"N/A",score:""}));localStorage.setItem("schedule_".concat(e.currentYear),JSON.stringify(t));let r={coachProfile:s,currentYear:e.currentYear,players:[],playerStats:[],allRecruits:[],allTransfers:[],allAwards:[],yearRecords:[],allTrophies:[],top25Rankings:JSON.parse(localStorage.getItem("top25Rankings")),["schedule_".concat(e.currentYear)]:t};localStorage.setItem("dynasty_".concat(e.id),JSON.stringify(r))})(t);let r=[...s,t];l(r),localStorage.setItem("dynasties",JSON.stringify(r)),k(!1),J({coachName:"",schoolName:"",customTeamName:"",currentYear:2024}),x.oR.success("Dynasty created successfully!"),window.dispatchEvent(new StorageEvent("storage",{key:"dynastyLoaded",newValue:t.id})),a(t.id)},[L,s,Y,a]),M=(0,r.useCallback)(e=>{try{let s=localStorage.getItem("dynasty_".concat(e.id));if(!s)return void x.oR.error("Could not find saved data for this dynasty.");let t=JSON.parse(s);(0,R.BJ)(t),localStorage.setItem("currentDynastyId",e.id),a(e.id),x.oR.success("Loaded ".concat(e.schoolName," dynasty!"))}catch(e){console.error("Error loading dynasty:",e),x.oR.error("Error loading dynasty")}},[a]),B=(0,r.useCallback)(async()=>{if(!T)return void x.oR.error("Please select a file to import");I(!0);try{let e=await T.text(),a=JSON.parse(e);if(!z(a))throw Error("Invalid or corrupted dynasty snapshot file.");let{coachName:t,schoolName:r}=a.dynastyData.coachProfile;if(s.find(e=>e.schoolName===r))throw Error("A dynasty for ".concat(r," already exists."));let o={id:Date.now().toString(),coachName:t,schoolName:r,currentYear:a.dynastyData.currentYear,createdAt:new Date().toISOString(),lastPlayed:new Date().toISOString(),seasonsPlayed:(a.dynastyData.yearRecords||[]).length,totalWins:0,totalLosses:0,championships:0},n=[...s,o];localStorage.setItem("dynasties",JSON.stringify(n)),l(n),localStorage.setItem("dynasty_".concat(o.id),JSON.stringify(a.dynastyData)),D(!1),_(null),P.current&&(P.current.value=""),x.oR.success("Dynasty for ".concat(r," imported! Loading now...")),M(o)}catch(e){x.oR.error(e instanceof Error?e.message:"Failed to import data"),console.error("Import error:",e)}finally{I(!1)}},[T,s,a,M]),G=e=>{try{let a=s.filter(a=>a.id!==e);l(a),localStorage.setItem("dynasties",JSON.stringify(a)),localStorage.removeItem("dynasty_".concat(e)),x.oR.success("Dynasty deleted successfully")}catch(e){console.error("Error deleting dynasty:",e),x.oR.error("Error deleting dynasty")}},Z=e=>new Date(e).toLocaleString(),W=e=>{let a=localStorage.getItem("dynasty_".concat(e.id));if(a)try{let e=JSON.parse(a).coachProfile;if(e&&e.schoolName){if(e.conference)return{name:e.schoolName,conference:e.conference};let a=(0,u.Uj)(e.schoolName);return{name:e.schoolName,conference:(null==a?void 0:a.conference)||"Custom Team"}}}catch(a){console.error("Error parsing data for dynasty ".concat(e.id),a)}let s=(0,u.Uj)(e.schoolName);return{name:e.schoolName,conference:(null==s?void 0:s.conference)||"Custom Team"}},q=e=>{try{let a=localStorage.getItem("dynasty_".concat(e));if(!a)return{readyToAdvance:!1,nextAdvance:""};let s=JSON.parse(a);return{readyToAdvance:s.readyToAdvance||!1,nextAdvance:s.nextAdvance||""}}catch(a){return console.error("Error getting advance schedule for dynasty ".concat(e,":"),a),{readyToAdvance:!1,nextAdvance:""}}},H=e=>{try{let a=localStorage.getItem("dynasty_".concat(e));if(!a)return{wins:0,losses:0,seasonsPlayed:0};let s=JSON.parse(a),t=0,r=0,l=0,o=new Set;s.yearRecords&&Array.isArray(s.yearRecords)&&(l=s.yearRecords.length,s.yearRecords.forEach(e=>{if(e.overallRecord&&e.year){let[a,s]=e.overallRecord.split("-").map(e=>parseInt(e)||0);t+=a,r+=s,o.add(e.year)}}));let n=s.currentYear;if(n&&!o.has(n)){let e="schedule_".concat(n);if(s[e]&&Array.isArray(s[e])){let a=s[e],o=a.filter(e=>"Win"===e.result).length,n=a.filter(e=>"Loss"===e.result).length;(o>0||n>0)&&(t+=o,r+=n,l++)}}return{wins:t,losses:r,seasonsPlayed:l}}catch(a){return console.error("Error calculating record for dynasty ".concat(e,":"),a),{wins:0,losses:0,seasonsPlayed:0}}};return(0,t.jsxs)("div",{className:"relative min-h-screen bg-gradient-to-bl from-gray-700 via-plum-900 to-slateblue-500 flex items-center justify-center p-4 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,_rgba(255,255,255,0.4),_transparent_70%)] mix-blend-screen animate-flicker pointer-events-none"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_rgba(255,255,255,0.2),_transparent_70%)] mix-blend-screen animate-flicker pointer-events-none"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-[url('/noise.svg')] opacity-5 mix-blend-overlay pointer-events-none"}),(0,t.jsxs)("div",{className:"w-full max-w-6xl",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("h1",{className:"text-5xl font-bold text-white mb-4 flex items-center justify-center gap-3",children:[(0,t.jsx)(y.A,{className:"h-12 w-12 text-yellow-400"}),"CFB Dynasty Manager"]}),(0,t.jsx)("p",{className:"text-xl text-blue-200",children:"Pave your path to the College Football Championship!"})]}),(0,t.jsxs)("div",{className:"text-center mb-8 flex justify-center gap-4",children:[(0,t.jsxs)(n.$,{onClick:()=>k(!0),size:"lg",className:"bg-green-600 hover:bg-green-700 text-white px-8 py-4 text-lg",children:[(0,t.jsx)(p.A,{className:"mr-2 h-5 w-5"}),"Create New Dynasty"]}),(0,t.jsxs)(n.$,{onClick:()=>D(!0),size:"lg",variant:"outline",className:"border-2 border-white bg-transparent text-white hover:bg-white hover:text-blue-900 px-8 py-4 text-lg",children:[(0,t.jsx)(g.A,{className:"mr-2 h-5 w-5"}),"Import Dynasty"]})]}),s.length>0?(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-white text-center mb-6",children:"Your Dynasties"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>{let a=W(e),s=H(e.id),r=$(e.id,e.schoolName),l=q(e.id);return(0,t.jsxs)(o.Zp,{className:"bg-white/10 ...",children:[(0,t.jsx)(o.aR,{className:"pb-3",children:(0,t.jsxs)(o.ZB,{className:"text-white flex items-center gap-3",children:[(0,t.jsx)(C.L,{teamName:e.schoolName,size:"lg"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:"truncate font-bold text-lg",children:r&&(0,t.jsxs)("span",{className:"text-white font-bold text-xl",children:["#",r," "]})}),e.schoolName,(0,t.jsxs)(o.BT,{className:"text-blue-200 mt-1",children:["Coach ",e.coachName," • ",a.conference]})]})]})}),(0,t.jsxs)(o.Wu,{className:"space-y-3 pt-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-blue-100",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:["Year: ",e.currentYear]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-blue-100",children:[(0,t.jsx)(N.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:["Seasons: ",s.seasonsPlayed]})]}),(0,t.jsx)("div",{className:"text-blue-100",children:(0,t.jsxs)("span",{children:["Record: ",s.wins,"-",s.losses]})}),(0,t.jsx)("div",{className:"text-blue-100",children:(0,t.jsxs)("span",{children:["Last Played: ",Z(e.lastPlayed)]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-blue-100",children:[(0,t.jsx)(v.A,{className:"h-4 w-4 ".concat(l.readyToAdvance?"text-green-400":"text-gray-400")}),(0,t.jsxs)("span",{children:["Ready to Advance: ",l.readyToAdvance?"Yes":"No"]})]}),l.nextAdvance&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-blue-100",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:["Next Advance: ",l.nextAdvance?new Date(l.nextAdvance+"T12:00:00").toLocaleDateString():""]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsxs)(n.$,{onClick:()=>M(e),className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Load"]}),(0,t.jsxs)(h.Lt,{children:[(0,t.jsx)(h.tv,{asChild:!0,children:(0,t.jsx)(n.$,{variant:"destructive",size:"sm",children:(0,t.jsx)(w.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(h.EO,{children:[(0,t.jsxs)(h.wd,{children:[(0,t.jsx)(h.r7,{children:"Delete Dynasty"}),(0,t.jsxs)(h.$v,{children:["Are you sure you want to delete the"," ",e.schoolName," dynasty? This action cannot be undone."]})]}),(0,t.jsxs)(h.ck,{children:[(0,t.jsx)(h.Zr,{children:"Cancel"}),(0,t.jsx)(h.Rx,{onClick:()=>G(e.id),children:"Delete"})]})]})]})]})]})]},e.id)})})]}):(0,t.jsx)(o.Zp,{className:"bg-white/10 backdrop-blur-sm border-white/20 text-center py-12",children:(0,t.jsxs)(o.Wu,{children:[(0,t.jsx)(y.A,{className:"h-16 w-16 text-yellow-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Start Your Dynasty"}),(0,t.jsx)("p",{className:"text-blue-200 mb-6",children:"Create your first dynasty or import an existing one to begin."})]})}),(0,t.jsx)(m.lG,{open:S,onOpenChange:k,children:(0,t.jsxs)(m.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsx)(m.c7,{children:(0,t.jsx)(m.L3,{children:"Create New Dynasty"})}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"coachName",children:"Coach Name"}),(0,t.jsx)(c.p,{id:"coachName",value:L.coachName,onChange:e=>J({...L,coachName:e.target.value}),placeholder:"Enter your name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"schoolName",children:"School"}),(0,t.jsxs)(d.l6,{value:L.schoolName,onValueChange:e=>J({...L,schoolName:e}),children:[(0,t.jsx)(d.bq,{children:(0,t.jsx)(d.yv,{placeholder:"Select a school"})}),(0,t.jsxs)(d.gC,{children:[(0,t.jsx)(d.eb,{value:"CUSTOM_TEAM",children:"Custom/TeamBuilder Team"}),u.Sy.map(e=>(0,t.jsxs)(d.eb,{value:e.name,children:[e.name," (",e.conference,")"]},e.name))]})]}),"CUSTOM_TEAM"===L.schoolName&&(0,t.jsxs)("div",{className:"space-y-2 mt-2",children:[(0,t.jsx)(i.J,{htmlFor:"customTeamName",children:"Custom Team Name"}),(0,t.jsx)(c.p,{id:"customTeamName",value:L.customTeamName,onChange:e=>J({...L,customTeamName:e.target.value}),placeholder:"Enter custom name"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"currentYear",children:"Starting Year"}),(0,t.jsx)(c.p,{id:"currentYear",type:"number",value:L.currentYear,onChange:e=>J({...L,currentYear:parseInt(e.target.value)||2024}),min:2024,max:2030})]})]}),(0,t.jsxs)(m.Es,{children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),(0,t.jsx)(n.$,{onClick:V,children:"Create Dynasty"})]})]})}),(0,t.jsx)(m.lG,{open:A,onOpenChange:D,children:(0,t.jsxs)(m.Cf,{className:"sm:max-w-[500px]",children:[(0,t.jsx)(m.c7,{children:(0,t.jsx)(m.L3,{children:"Import Dynasty"})}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"importFile",children:"Dynasty Export File (.json)"}),(0,t.jsx)(c.p,{ref:P,type:"file",accept:".json",onChange:e=>{var a;let s=null==(a=e.target.files)?void 0:a[0];s&&_(s)},className:"w-full"})]}),T&&(0,t.jsx)("div",{className:"p-3 bg-muted rounded-md",children:(0,t.jsxs)("p",{className:"text-sm font-medium",children:["Selected: ",T.name]})})]}),(0,t.jsxs)(m.Es,{children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),(0,t.jsx)(n.$,{onClick:B,disabled:!T||O,children:O?"Importing...":"Import Dynasty"})]})]})})]})]})};var A=s(6874),D=s.n(A),T=s(5695),_=s(3896),O=s(3127),I=s(4084);let P={coachName:"",schoolName:"",schoolColors:{primary:"#3B82F6",secondary:"#EF4444",accent:"#10B981"}},L=()=>{var e,a,s,o,h,x,y,p,g;let{currentDynastyId:v,saveDynastyData:j,dataVersion:b}=(0,l._)(),[w,C]=(0,r.useState)(P),[S,k]=(0,r.useState)(2025),[A,D]=(0,r.useState)(!1),[T,L]=(0,r.useState)({}),J=(0,r.useMemo)(()=>[...new Set(u.Sy.map(e=>e.conference))].sort(),[]);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/fbsColors.csv");if(!e.ok)throw Error("Failed to fetch CSV");let a=await e.text(),s=E().parse(a,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,delimitersToGuess:[","]}),t={};s.data.forEach(e=>{e.Team&&e["Color 1"]&&e["Color 2"]&&(t[e.Team]={primary:e["Color 1"],secondary:e["Color 2"],accent:e["Color 3"]||e["Color 1"]})}),L(t)}catch(e){console.error("Error loading school colors:",e)}})()},[]);let Y=e=>{if(!e)return;let a=document.documentElement,s=(e,a)=>{let s="#"===e[0],t=parseInt(s?e.slice(1):e,16),r=(t>>16)+a,l=(t>>8&255)+a,o=(255&t)+a;return(s?"#":"")+("000000"+((l=l>255?255:l<0?0:l)|(o=o>255?255:o<0?0:o)<<8|(r=r>255?255:r<0?0:r)<<16).toString(16)).slice(-6)};a.style.setProperty("--school-primary",e.primary),a.style.setProperty("--school-secondary",e.secondary),a.style.setProperty("--school-accent",e.accent),a.style.setProperty("--school-primary-hover",s(e.primary,-20)),a.style.setProperty("--school-primary-light",s(e.primary,40)),a.style.setProperty("--school-secondary-light",s(e.secondary,40))};(0,r.useEffect)(()=>{if(!v)return;let e=()=>{try{let e=(0,R.QJ)(),a=(0,R.hk)(),s=e||P;C(s),k(a),Y(s.schoolColors)}catch(e){console.error("Error loading profile/year:",e)}};e();let a=a=>{("currentYear"===a.key||"dynastyLoaded"===a.key)&&e()};return window.addEventListener("storage",a),()=>window.removeEventListener("storage",a)},[v,b]);let F=(e,a)=>{C(s=>{let t={...P.schoolColors};return s.schoolColors&&Object.assign(t,s.schoolColors),t[e]=a,{...s,schoolColors:t}})},U=e=>{let{color:a,size:s="w-6 h-6"}=e;return(0,t.jsx)("div",{className:"".concat(s," rounded border-2 border-gray-300 dark:border-gray-600"),style:{backgroundColor:a}})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.$,{variant:"ghost",className:"flex flex-wrap items-center justify-center sm:justify-start gap-x-4 gap-y-1 px-2 h-auto",onClick:()=>D(!0),style:{borderLeft:(null==(e=w.schoolColors)?void 0:e.primary)?"4px solid ".concat(w.schoolColors.primary):void 0},children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(N.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:w.coachName||"Coach"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(_.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:w.schoolName||"School"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:S})]}),w.schoolColors&&(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(U,{color:w.schoolColors.primary,size:"w-4 h-4"}),(0,t.jsx)(U,{color:w.schoolColors.secondary,size:"w-4 h-4"})]})]}),(0,t.jsx)(m.lG,{open:A,onOpenChange:D,children:(0,t.jsxs)(m.Cf,{className:"sm:max-w-[600px]",children:[(0,t.jsx)(m.c7,{children:(0,t.jsx)(m.L3,{children:"Edit Profile & School Colors"})}),(0,t.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(i.J,{htmlFor:"coachName",className:"text-right",children:"Coach Name"}),(0,t.jsx)(c.p,{id:"coachName",value:w.coachName,onChange:e=>C(a=>({...a,coachName:e.target.value})),className:"col-span-3"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(i.J,{htmlFor:"schoolName",className:"text-right",children:"School"}),(0,t.jsxs)(d.l6,{value:w.schoolName,onValueChange:e=>{let a=T[e];C(s=>({...s,schoolName:e,schoolColors:a||s.schoolColors}))},children:[(0,t.jsx)(d.bq,{className:"col-span-3",children:(0,t.jsx)(d.yv,{})}),(0,t.jsx)(d.gC,{children:u.Sy.map(e=>(0,t.jsx)(d.eb,{value:e.name,children:e.name},e.name))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(i.J,{htmlFor:"conference",className:"text-right",children:"Conference"}),(0,t.jsxs)(d.l6,{value:w.conference||(null==(a=(0,u.Uj)(w.schoolName))?void 0:a.conference)||"",onValueChange:e=>C(a=>({...a,conference:e})),disabled:!w.schoolName,children:[(0,t.jsx)(d.bq,{className:"col-span-3",children:(0,t.jsx)(d.yv,{placeholder:"Select conference"})}),(0,t.jsx)(d.gC,{children:J.map(e=>(0,t.jsx)(d.eb,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(i.J,{htmlFor:"currentYear",className:"text-right",children:"Current Year"}),(0,t.jsx)(c.p,{id:"currentYear",type:"number",value:S,onChange:e=>k(parseInt(e.target.value)||2025),className:"col-span-3"})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsxs)(i.J,{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,t.jsx)(O.A,{className:"h-4 w-4"}),"School Colors"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"primaryColor",children:"Primary"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{id:"primaryColor",type:"color",value:null==(s=w.schoolColors)?void 0:s.primary,onChange:e=>F("primary",e.target.value),className:"w-12 h-10 rounded border"}),(0,t.jsx)(c.p,{value:null==(o=w.schoolColors)?void 0:o.primary,onChange:e=>F("primary",e.target.value)})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"secondaryColor",children:"Secondary"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{id:"secondaryColor",type:"color",value:null==(h=w.schoolColors)?void 0:h.secondary,onChange:e=>F("secondary",e.target.value),className:"w-12 h-10 rounded border"}),(0,t.jsx)(c.p,{value:null==(x=w.schoolColors)?void 0:x.secondary,onChange:e=>F("secondary",e.target.value)})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"accentColor",children:"Accent"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{id:"accentColor",type:"color",value:null==(y=w.schoolColors)?void 0:y.accent,onChange:e=>F("accent",e.target.value),className:"w-12 h-10 rounded border"}),(0,t.jsx)(c.p,{value:null==(p=w.schoolColors)?void 0:p.accent,onChange:e=>F("accent",e.target.value)})]})]})]})]})]}),(0,t.jsxs)(m.Es,{children:[(0,t.jsx)(n.$,{onClick:()=>D(!1),variant:"outline",children:"Cancel"}),(0,t.jsx)(n.$,{onClick:()=>{try{(0,R.k1)(w),(0,R.pK)(S),Y(w.schoolColors),j(),D(!1),(0,I.VX)(I.nl.SAVE_SUCCESS),window.dispatchEvent(new StorageEvent("storage",{key:"currentYear"}))}catch(e){console.error("Error saving profile/year:",e),(0,I.UG)(I.nl.SAVE_ERROR)}},style:{backgroundColor:null==(g=w.schoolColors)?void 0:g.primary,color:"white"},children:"Save Profile"})]})]})})]})};var J=s(2098),Y=s(3509),F=s(1362);let U=(0,r.memo)(()=>{let{setTheme:e,theme:a}=(0,F.D)();return(0,t.jsxs)(n.$,{variant:"outline",size:"icon",onClick:()=>e("light"===a?"dark":"light"),className:"relative h-10 w-10 dark:bg-white dark:text-black dark:hover:bg-gray-200 bg-gray-900 text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background",children:[(0,t.jsx)(J.A,{className:"h- w-5 absolute rotate-90 scale-0 transition-all duration-300 ease-in-out dark:rotate-0 dark:scale-100"}),(0,t.jsx)(Y.A,{className:"h-5 w-5 absolute rotate-0 scale-100 transition-all duration-300 ease-in-out dark:-rotate-90 dark:scale-0"})]})});U.displayName="ThemeToggle";var z=s(7340),$=s(4229);let V=(0,r.memo)(e=>{let{onReturnToLaunch:a,onManualSave:s}=e,r=(0,T.usePathname)();return(0,t.jsx)("nav",{className:"w-full bg-gray-300 dark:bg-gray-800 text-white",children:(0,t.jsx)("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsx)("div",{className:"flex items-center",children:a&&(0,t.jsxs)(h.Lt,{children:[(0,t.jsx)(h.tv,{asChild:!0,children:(0,t.jsx)(n.$,{variant:"ghost",size:"sm",className:"text-gray-900 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 px-3 py-2",title:"Return to Dynasty Selection",children:(0,t.jsx)(z.A,{className:"h-5 w-5"})})}),(0,t.jsxs)(h.EO,{children:[(0,t.jsxs)(h.wd,{children:[(0,t.jsx)(h.r7,{children:"Return to Main Menu?"}),(0,t.jsx)(h.$v,{children:"Would you like to save your current progress before returning to the dynasty selection screen? Any unsaved changes will be lost."})]}),(0,t.jsxs)(h.ck,{children:[(0,t.jsx)(h.Zr,{children:"Cancel"}),(0,t.jsx)(h.Rx,{onClick:()=>{s&&s(),a&&a()},children:"Save & Exit"})]})]})]})}),(0,t.jsx)("div",{className:"hidden sm:flex sm:space-x-6 flex-1 justify-center",children:[{name:"Team Home",path:"/"},{name:"Schedule",path:"/schedule"},{name:"Top 25",path:"/top25"},{name:"User Teams",path:"/user-teams"},{name:"Roster",path:"/roster"},{name:"Recruiting",path:"/recruiting"},{name:"Transfers",path:"/transfers"},{name:"Team Stats",path:"/team-stats"},{name:"Player Awards",path:"/awards"},{name:"Season History",path:"/records"},{name:"Trophy Case",path:"/trophy-case"},{name:"Social Media",path:"/social"},{name:"Tools",path:"/tools"}].map(e=>{let a=!!r&&("/"===e.path?"/"===r:r.startsWith(e.path));return(0,t.jsx)(D(),{href:e.path,className:"".concat(a?"border-blue-500 text-blue-900 dark:text-white":"border-transparent text-gray-900 dark:text-gray-300 hover:border-gray-300 hover:text-blue-300"," inline-flex items-center px-2 pt-1 border-b-4 text-sm font-medium transition-colors"),children:e.name},e.name)})}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(L,{}),(0,t.jsx)("div",{className:"h-6 w-px bg-gray-400 dark:bg-gray-600 mx-3"}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.$,{onClick:s,variant:"ghost",size:"sm",className:"text-gray-900 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700",children:[(0,t.jsx)($.A,{className:"h-4 w-4 mr-1"}),"Save"]}),(0,t.jsx)("div",{className:"h-6 w-px bg-gray-400 dark:bg-gray-600 mx-3"})]}),(0,t.jsx)(U,{})]})]})})})});V.displayName="Navigation";let M=e=>{let{children:a}=e,{currentDynastyId:s,isDynastyLoaded:o,setCurrentDynastyId:n,saveDynastyData:c}=(0,l._)(),[i,d]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{d(!0)},[]),i)?o&&s?(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(V,{onReturnToLaunch:()=>{s&&(c(),x.oR.success("Dynasty progress saved")),n(null)},onManualSave:()=>{s&&(c(),x.oR.success("Dynasty saved successfully"))}}),(0,t.jsx)("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a}),(0,t.jsx)("footer",{className:"bg-gray-300 dark:bg-gray-800 shadow",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 text-center",children:(0,t.jsx)("p",{children:"\xa9 CFB25 Dynasty Manager"})})})]}):(0,t.jsx)(k,{onDynastySelected:e=>{n(e)}}):null}},5057:(e,a,s)=>{"use strict";s.d(a,{J:()=>i});var t=s(5155),r=s(2115),l=s(968),o=s(2085),n=s(9434);let c=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.b,{ref:a,className:(0,n.cn)(c(),s),...r})});i.displayName=l.b.displayName},7248:(e,a,s)=>{Promise.resolve().then(s.bind(s,1362)),Promise.resolve().then(s.t.bind(s,8346,23)),Promise.resolve().then(s.bind(s,3568)),Promise.resolve().then(s.t.bind(s,347,23)),Promise.resolve().then(s.bind(s,4604)),Promise.resolve().then(s.bind(s,661))}},e=>{var a=a=>e(e.s=a);e.O(0,[838,201,13,533,121,649,915,486,88,923,441,684,358],()=>a(7248)),_N_E=e.O()}]);