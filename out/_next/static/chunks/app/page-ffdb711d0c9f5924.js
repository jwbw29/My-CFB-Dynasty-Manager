(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{10:(e,t,s)=>{"use strict";s.d(t,{$v:()=>g,EO:()=>m,Lt:()=>i,Rx:()=>p,Zr:()=>v,ck:()=>h,r7:()=>f,tv:()=>d,wd:()=>u});var a=s(5155),r=s(2115),l=s(7649),n=s(9434),c=s(285);let i=l.bL,d=l.l9,o=l.ZL,x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});x.displayName=l.hJ.displayName;let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(x,{}),(0,a.jsx)(l.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});m.displayName=l.UC.displayName;let u=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};u.displayName="AlertDialogHeader";let h=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};h.displayName="AlertDialogFooter";let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold",s),...r})});f.displayName=l.hE.displayName;let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});g.displayName=l.VY.displayName;let p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.rc,{ref:t,className:(0,n.cn)((0,c.r)(),s),...r})});p.displayName=l.rc.displayName;let v=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.ZD,{ref:t,className:(0,n.cn)((0,c.r)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})});v.displayName=l.ZD.displayName},235:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("chart-no-axes-column",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]])},239:(e,t,s)=>{"use strict";s.d(t,{Qi:()=>c,R0:()=>r,Xq:()=>a,_N:()=>n,pL:()=>l});let a=["QB","RB","FB","WR","TE","LT","LG","C","RG","RT","LEDGE","REDGE","DT","SAM","MIKE","WILL","CB","FS","SS","K","P"],r=["QB","RB","WR","TE","OL","DL","LB","CB","S","K","P","ATH"],l=["QB","RB","FB","WR","TE","LT","LG","C","RG","RT"],n=["LEDGE","REDGE","DT","SAM","MIKE","WILL","CB","FS","SS"],c=["K","P"]},285:(e,t,s)=>{"use strict";s.d(t,{$:()=>d,r:()=>i});var a=s(5155),r=s(2115),l=s(9708),n=s(2085),c=s(9434);let i=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:d=!1,...o}=e,x=d?l.DX:"button";return(0,a.jsx)(x,{className:(0,c.cn)(i({variant:r,size:n,className:s})),ref:t,...o})});d.displayName="Button"},661:(e,t,s)=>{"use strict";s.d(t,{DynastyProvider:()=>i,_:()=>c});var a=s(5155),r=s(2115),l=s(5383);let n=(0,r.createContext)(void 0),c=()=>{let e=(0,r.useContext)(n);if(void 0===e)throw Error("useDynasty must be used within a DynastyProvider");return e},i=e=>{let{children:t}=e,[s,c]=(0,r.useState)(null),[i,d]=(0,r.useState)(!1),[o,x]=(0,r.useState)(0),[m,u]=(0,r.useState)(0),[h,f]=(0,r.useState)(0),[g,p]=(0,r.useState)({}),[v,N]=(0,r.useState)({}),[j,y]=(0,r.useState)(!1),[b,k]=(0,r.useState)(""),w=()=>x(e=>e+1);(0,r.useEffect)(()=>{if(s){p((0,l.bv)());let e=localStorage.getItem("dynasty_".concat(s));if(e)try{let t=JSON.parse(e);y(t.readyToAdvance||!1),k(t.nextAdvance||""),N(t.othersReceivingVotes||{})}catch(e){console.error("Error loading dynasty data:",e),y(!1),k(""),N({})}else y(!1),k(""),N({});let t=parseInt(localStorage.getItem("currentYear")||"2025"),a=(0,l.A0)(t);if(a&&a.length>0){let e=[...a].reverse().find(e=>"N/A"!==e.result),t=e?Math.min(e.week+1,21):0;f(t),u(t)}else f(0);d(!0),w()}else d(!1)},[s]);let L=(0,r.useCallback)((e,t,s)=>{p(a=>({...a,[e]:{...a[e]||{},[t]:s}})),w()},[]),S=(0,r.useCallback)((e,t)=>{let s=g[e]||{},a=t;for(;a>=0;){if(s[a])return s[a];a--}return Array.from({length:25},()=>({name:""}))},[g]),_=(0,r.useCallback)((e,t,s)=>{N(a=>({...a,[e]:{...a[e]||{},[t]:s}})),w()},[]),A=(0,r.useCallback)((e,t)=>(v[e]||{})[t]||"",[v]),R=(0,r.useCallback)(()=>{if(s)try{let e={};["coachProfile","currentYear","players","playerStats","allRecruits","allTransfers","allAwards","yearRecords","allTrophies"].forEach(t=>{let s=localStorage.getItem(t);if(s)try{e[t]=JSON.parse(s)}catch(e){console.error("Error parsing key ".concat(t," from localStorage"),e)}}),e.top25History=g,e.readyToAdvance=j,e.nextAdvance=b,e.othersReceivingVotes=v,e.userControlledTeams=(0,l.Cm)(),Object.keys(localStorage).forEach(t=>{if(t&&(t.startsWith("schedule_")||t.startsWith("yearStats_")||t.startsWith("offensiveNeeds_".concat(s))||t.startsWith("defensiveNeeds_".concat(s)))){let s=localStorage.getItem(t);if(s)try{e[t]=JSON.parse(s)}catch(e){console.error("Error parsing dynamic key ".concat(t),e)}}}),localStorage.setItem("dynasty_".concat(s),JSON.stringify(e));let t=localStorage.getItem("dynasties");if(t&&e.coachProfile&&e.currentYear){let a=JSON.parse(t).map(t=>t.id===s?{...t,coachName:e.coachProfile.coachName||t.coachName,schoolName:e.coachProfile.schoolName||t.schoolName,currentYear:e.currentYear||t.currentYear,lastPlayed:new Date().toISOString()}:t);localStorage.setItem("dynasties",JSON.stringify(a))}}catch(e){console.error("Error saving dynasty data:",e)}},[s,g,j,b,v]);return(0,a.jsx)(n.Provider,{value:{currentDynastyId:s,isDynastyLoaded:i,setCurrentDynastyId:c,saveDynastyData:R,dataVersion:o,refreshData:w,latestUnlockedWeek:m,activeWeek:h,top25History:g,setActiveWeek:e=>{let t=Math.max(0,Math.min(e,21));f(t),t>m&&u(t)},advanceWeek:()=>{f(e=>Math.min(e+1,21))},updateRankingsForWeek:L,getRankingsForWeek:S,updateOthersReceivingVotes:_,getOthersReceivingVotes:A,readyToAdvance:j,nextAdvance:b,setReadyToAdvance:e=>{y(e),w()},setNextAdvance:e=>{k(e),w()}},children:t})}},968:(e,t,s)=>{"use strict";s.d(t,{b:()=>c});var a=s(2115),r=s(3655),l=s(5155),n=a.forwardRef((e,t)=>(0,l.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var c=n},1007:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1923:(e,t,s)=>{"use strict";s.d(t,{L:()=>i,Q:()=>d});var a=s(5155),r=s(2115),l=s(2457),n=s(9434);let c={xs:"w-4 h-4",sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16","2xl":"w-24 h-24"},i=e=>{let{teamName:t,size:s="md",showFallback:i=!0,className:d="",onClick:o}=e,[x,m]=(0,r.useState)(0),[u,h]=(0,r.useState)(!1),f=(0,l.NJ)(t),g=f[x];if(u){if(!i)return null;let e=t.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,3);return(0,a.jsx)("div",{className:(0,n.cn)(c[s],"bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center text-xs font-bold text-gray-700 dark:text-gray-300",o&&"cursor-pointer",d),onClick:o,title:t,children:e})}return(0,a.jsx)("img",{src:g,alt:"".concat(t," logo"),className:(0,n.cn)(c[s],"object-contain rounded",o&&"cursor-pointer",d),onError:()=>{x<f.length-1?m(x+1):h(!0)},onClick:o,title:t,loading:"lazy"})},d=e=>{let{conference:t,size:s="sm",showFallback:i=!0,className:d=""}=e,[o,x]=(0,r.useState)(!1),m=(0,l.h0)(t);return o&&!i?null:o&&i?(0,a.jsx)("span",{className:(0,n.cn)("text-xs font-medium text-gray-600 dark:text-gray-400",d),children:t}):(0,a.jsx)("img",{src:m,alt:"".concat(t," logo"),className:(0,n.cn)(c[s],"object-contain",d),onError:()=>{x(!0)},title:t,loading:"lazy"})}},2457:(e,t,s)=>{"use strict";s.d(t,{NJ:()=>l,h0:()=>n,nJ:()=>c});var a=s(9874);function r(e){let t=a.Sy.find(t=>t.name===e||t.name.toLowerCase()===e.toLowerCase()||t.abbrev===e);if(!t){let t=e.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"");return"/logos/".concat(t,"_300x300.png")}let s=t.name.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_&]/g,""),r=t.nickName.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_&]/g,"");return"/logos/".concat(s,"_").concat(r,"_300x300.png")}function l(e){let t=a.Sy.find(t=>t.name===e||t.name.toLowerCase()===e.toLowerCase()||t.abbrev===e);if(!t){let t=e.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_&]/g,"");return["/logos/".concat(t,"_300x300.png"),"/logos/".concat(t,"_logo_300x300.png"),"/logos/".concat(e.replace(/\s+/g,"_"),"-300x300.png")]}let s=t.name.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_&]/g,""),r=t.nickName.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_&]/g,"");return["/logos/".concat(s,"_").concat(r,"_300x300.png"),"/logos/".concat(s,"_").concat(r,"_logo_300x300.png"),"/logos/".concat(t.name.replace(/\s+/g,"_"),"_").concat(t.nickName.replace(/\s+/g,"_"),"_300x300.png")]}function n(e){let t=e.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"");return"/logos/conferences/".concat(t,"_logo_300x300.png")}function c(e){let t=a.Sy.find(t=>t.name===e||t.name.toLowerCase()===e.toLowerCase()||t.abbrev===e);return t?{...t,logoPath:r(t.name),conferenceLogo:n(t.conference)}:{name:e,nickName:"",conference:"",logoPath:r(e),conferenceLogo:""}}},2523:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(5155),r=s(2115),l=s(9434);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});n.displayName="Input"},2933:(e,t,s)=>{Promise.resolve().then(s.bind(s,2146)),Promise.resolve().then(s.bind(s,255)),Promise.resolve().then(s.bind(s,7631))},3991:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(2115);let r=function(e,t){let[s,r]=(0,a.useState)(()=>{try{let s=window.localStorage.getItem(e);return s?JSON.parse(s):t}catch(e){return console.log("Error reading from localStorage:",e),t}}),[l,n]=(0,a.useState)(!1);(0,a.useEffect)(()=>{n(!!window.electronAPI)},[]),(0,a.useEffect)(()=>{l&&window.electronAPI&&window.electronAPI.getData(e).then(e=>{null!=e&&r(e)}).catch(e=>{console.log("Electron store not available, using localStorage:",e)})},[e,l]);let c=(0,a.useCallback)(async t=>{try{let a=t instanceof Function?t(s):t;r(a),window.localStorage.setItem(e,JSON.stringify(a)),l&&window.electronAPI&&window.electronAPI.saveData(e,a).catch(e=>{console.log("Electron store not available, localStorage is being used:",e)})}catch(e){console.error("Error saving data:",e)}},[e,s,l]);return[s,c]}},4416:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},7631:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(5155),r=s(2115),l=s(5695),n=s(6695),c=s(285);let i=e=>{let{id:t,checked:s,onCheckedChange:r,className:l=""}=e;return(0,a.jsx)("input",{id:t,type:"checkbox",checked:s,onChange:e=>r(e.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 ".concat(l)})};var d=s(2523),o=s(5057),x=s(10),m=s(1923),u=s(5383),h=s(3991),f=s(3481),g=s(3568),p=s(2457),v=s(239);let N=e=>{let{players:t,teamName:s}=e;s&&(0,p.nJ)(s);let r=t.filter(e=>v.pL.includes(e.position)),l=t.filter(e=>v._N.includes(e.position)),c=t.filter(e=>v.Qi.includes(e.position)),i=e=>0===e.length?0:Math.max(0,Math.round(1.28*(e.reduce((e,t)=>e+(parseInt(t.rating)||0),0)/e.length)-11.1)),d=i(r),o=i(l),x=i(c),m=i(t);return(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"py-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Team Overall"}),(0,a.jsx)("div",{className:"text-3xl font-bold",children:m})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Offense"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:d})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Defense"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:o})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Special Teams"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:x})]})]})})})};var j=s(5692),y=s(2461),b=s(661),k=s(9874);let w=e=>{let{name:t,rank:s,isUserControlled:r}=e;return(0,a.jsx)("div",{className:"flex items-center gap-2 min-w-0",children:(0,a.jsxs)("span",{className:"text-sm min-w-0",children:[s&&(0,a.jsxs)("span",{className:"font-bold text-muted-foreground",children:["#",s," "]}),t,r&&(0,a.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:" (User)"})]})})},L=e=>{let{game:t,keyPrefix:s,scheduleTeamName:r,getRankForTeam:l}=e;if("BYE"===t.opponent)return(0,a.jsxs)("div",{className:"flex items-center p-3 sm:p-4 hover:bg-muted/50 transition-colors",children:[(0,a.jsxs)("div",{className:"w-10 sm:w-10 text-center shrink-0",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Week"}),(0,a.jsx)("div",{className:"text-base sm:text-xl font-bold",children:t.week})]}),(0,a.jsx)("div",{className:"flex items-center justify-center gap-2 flex-1",children:(0,a.jsx)("span",{className:"text-gray-500 font-semibold",children:"BYE WEEK"})})]});let n={name:r,rank:l(r,t.week)},c={name:t.opponent,rank:l(t.opponent,t.week)},i="@"===t.location?"at":"vs",[d,o]="@"===t.location?[c,n]:[n,c];return(0,a.jsxs)("div",{className:"grid grid-cols-[auto_auto_1fr_auto_auto_1fr_auto] items-center gap-2 p-3 sm:p-4 hover:bg-muted/50 transition-colors",children:[(0,a.jsxs)("div",{className:"text-center shrink-0",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Week"}),(0,a.jsx)("div",{className:"text-base sm:text-md font-bold",children:t.week})]}),(0,a.jsx)("div",{className:"justify-end",children:(0,a.jsx)(m.L,{teamName:d.name,size:"md"})}),(0,a.jsx)("div",{className:"text-center justify-end",children:(0,a.jsx)(w,{name:d.name,rank:d.rank,isUserControlled:(0,u.D7)(d.name)})}),(0,a.jsx)("div",{className:"text-center text-muted-foreground text-sm font-semibold",children:i}),(0,a.jsx)("div",{className:"justify-end",children:(0,a.jsx)(m.L,{teamName:o.name,size:"md"})}),(0,a.jsx)("div",{className:"text-center justify-normal",children:(0,a.jsx)(w,{name:o.name,rank:o.rank,isUserControlled:(0,u.D7)(o.name)})}),"recent"===s&&(0,a.jsxs)("div",{className:"text-center ml-2 w-16 shrink-0",children:[(0,a.jsx)("div",{className:"text-base sm:text-lg font-bold ".concat("Win"===t.result?"text-green-600":"text-red-600"),children:t.score}),(0,a.jsx)("div",{className:"text-xs sm:text-sm ".concat("Win"===t.result?"text-green-500":"text-red-500"),children:t.result})]})]})},S=()=>{var e,t,s,p,v,w,S,_;(0,l.useRouter)();let[A,R]=(0,r.useState)("Team"),[E,C]=(0,r.useState)(()=>(0,u.hk)()),[P,W]=(0,r.useState)([]),[D,T]=(0,r.useState)([]),[I,F]=(0,r.useState)(!0),{selectedPlayer:M,isOpen:z,openPlayerCard:Z,closePlayerCard:B}=(0,j.n)(),{currentDynastyId:O,dataVersion:J,activeWeek:Y,setActiveWeek:G,getRankingsForWeek:Q,saveDynastyData:K,refreshData:U,readyToAdvance:V,nextAdvance:H,setReadyToAdvance:$,setNextAdvance:q}=(0,b._)(),[X]=(0,h.A)("teamLeaders_".concat(O,"_").concat(E),{passingLeaders:[],rushingLeaders:[],receivingLeaders:[],tackleLeaders:[],tflLeaders:[],sackLeaders:[],intLeaders:[]}),ee=(0,r.useMemo)(()=>{if(!A||"Team"===A)return null;let e=Q(E,Y).findIndex(e=>e.name===A);return -1!==e?e+1:null},[A,E,Y,Q]),et=(0,r.useMemo)(()=>A?(0,k.c)(A):null,[A,J]);(0,r.useEffect)(()=>{let e=()=>{F(!0);let e=(0,u.hk)(),t=(0,u.QJ)(),s=(null==t?void 0:t.schoolName)||"Team",a=(0,u.A0)(e);R(s),C(e),W(a),T((0,u.Dq)()),F(!1)};return e(),window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[J]);let es=(0,r.useMemo)(()=>{try{let e=(e,t)=>{if(e&&0!==e.length)return e.filter(e=>e.name&&null!=e[t]).sort((e,s)=>(Number(s[t])||0)-(Number(e[t])||0))[0]};return{passingLeader:e(X.passingLeaders,"yards"),rushingLeader:e(X.rushingLeaders,"yards"),receivingLeader:e(X.receivingLeaders,"yards"),tacklesLeader:e(X.tackleLeaders,"total")}}catch(e){return console.error("Error parsing teamLeaders for leaders:",e),{}}},[X]),ea=(0,r.useMemo)(()=>{let e=e=>{let t=P.filter(t=>t.location===e&&"N/A"!==t.result&&"Bye"!==t.result);return{wins:t.filter(e=>"Win"===e.result).length,losses:t.filter(e=>"Loss"===e.result).length,ties:t.filter(e=>"Tie"===e.result).length}};return{home:e("vs"),away:e("@"),neutral:e("neutral")}},[P]),er=(0,r.useMemo)(()=>{let{wins:e,losses:t,conferenceWins:s,conferenceLosses:a,pointsScored:r,pointsAgainst:l}=(0,u.s2)(P,A),n=e+t,c=n>0?(r||0)/n:0,i=n>0?(l||0)/n:0,d=c-i,o=n>0?e/n:0,x=s+a,m=Y/21;return{wins:e,losses:t,confWins:s,confLosses:a,ppg:c.toFixed(1),pa:i.toFixed(1),diff:d.toFixed(1),diffSign:d>=0?"+":"",winPct:o,winPctFormatted:".".concat(Math.round(1e3*o).toString().padStart(3,"0")),confWinPctFormatted:"".concat((100*(x>0?s/x:0)).toFixed(1),"%"),weekProgressValue:289*m}},[P,A,Y]),el=(0,r.useCallback)(()=>{let e=E+1;if(!(0,f.cm)(e))return void g.oR.error("Invalid next year calculated.");try{let t=(0,u.Lq)(E),s=(0,u.s2)(P,A),a={...t,overallRecord:"".concat(s.wins,"-").concat(s.losses),conferenceRecord:"".concat(s.conferenceWins,"-").concat(s.conferenceLosses),pointsFor:String(s.pointsScored),pointsAgainst:String(s.pointsAgainst),schedule:P,recruits:(0,u.CE)(E),transfers:(0,u.d2)(E),playerAwards:(0,u.EH)(E)};(0,u.PG)(E,a),(0,u.fu)(E),(0,u.GC)(e),K(),U(),g.oR.success("Year ".concat(E," finalized. Welcome to the ").concat(e," season!"),{duration:4e3})}catch(e){console.error("Error ending year:",e),g.oR.error("Failed to end the year.")}},[E,P,A,K,U]),en=(0,r.useMemo)(()=>P.filter(e=>"N/A"!==e.result).slice(-5),[P]),ec=(0,r.useMemo)(()=>P&&0!==P.length?P.filter(e=>"N/A"===e.result&&e.opponent).slice(0,5):[],[P]),ei=(0,r.useCallback)((e,t)=>{let s=Q(E,t).findIndex(t=>t.name===e);return -1!==s?s+1:null},[E,Q]);return I?(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:"Loading Dashboard..."}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"text-center space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[et&&(0,a.jsx)(m.L,{teamName:et.name,size:"xl"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold",children:[ee&&(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[(0,a.jsxs)("strong",{children:["#",ee]})," -"," "]}),A," Dashboard • ",E]}),et&&et.conference&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-1",children:[(0,a.jsx)(m.Q,{conference:et.conference,size:"sm"}),(0,a.jsx)("span",{className:"text-lg text-gray-600 dark:text-gray-400",children:et.conference})]})]})]})}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)("h3",{className:"text-xl font-semibold",children:"Advance Schedule"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i,{id:"ready-to-advance",checked:V,onCheckedChange:e=>{$(!0===e),K()}}),(0,a.jsx)(o.J,{htmlFor:"ready-to-advance",children:"Ready to Advance"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(o.J,{htmlFor:"next-advance",children:"Next Advance"}),(0,a.jsx)(d.p,{id:"next-advance",type:"date",value:H,onChange:e=>{q(e.target.value),K()}})]})]})})]}),(0,a.jsx)(N,{players:D,teamName:A}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{className:"text-xl font-semibold pb-2 text-center",children:"Team Record"}),(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col items-center min-h-[250px]",children:[(0,a.jsxs)("div",{className:"relative w-40 h-40 sm:w-48 sm:h-48 mb-4",children:[(0,a.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[(0,a.jsx)("circle",{className:"text-gray-200 dark:text-gray-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"46",cx:"50",cy:"50"}),(0,a.jsx)("circle",{className:"stroke-current progress-circle-school",strokeWidth:"8",fill:"transparent",r:"46",cx:"50",cy:"50",strokeDasharray:"".concat(289*er.winPct," 289"),strokeLinecap:"round",style:{transition:"stroke-dasharray 0.5s ease-out",color:"var(--school-primary)"}})]}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,a.jsxs)("div",{className:"text-4xl sm:text-5xl font-bold mb-1",children:[er.wins,"-",er.losses]}),(0,a.jsx)("div",{className:"text-lg sm:text-xl text-muted-foreground",children:er.winPctFormatted})]})]}),(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Conference"}),(0,a.jsxs)("div",{className:"text-xl sm:text-2xl font-bold",children:[er.confWins,"-",er.confLosses]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 sm:gap-8 w-full text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Home"}),(0,a.jsxs)("div",{className:"text-base sm:text-lg font-semibold",children:[ea.home.wins,"-",ea.home.losses]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Away"}),(0,a.jsxs)("div",{className:"text-base sm:text-lg font-semibold",children:[ea.away.wins,"-",ea.away.losses]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Neutral"}),(0,a.jsxs)("div",{className:"text-base sm:text-lg font-semibold",children:[ea.neutral.wins,"-",ea.neutral.losses]})]})]})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{className:"text-xl font-semibold pb-2 text-center",children:"Upcoming Games"}),(0,a.jsx)(n.Wu,{className:"p-0",children:(0,a.jsx)("div",{className:"divide-y divide-border",children:ec.length>0?ec.map(e=>(0,a.jsx)(L,{game:e,keyPrefix:"upcoming",scheduleTeamName:A,getRankForTeam:ei},"upcoming-".concat(e.id||e.week))):(0,a.jsx)("p",{className:"p-4 text-center text-muted-foreground",children:"No upcoming games scheduled."})})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{className:"text-xl font-semibold pb-2 text-center",children:"Recent Results"}),(0,a.jsx)(n.Wu,{className:"p-0",children:(0,a.jsx)("div",{className:"divide-y divide-border",children:en.length>0?en.map(e=>(0,a.jsx)(L,{game:e,keyPrefix:"recent",scheduleTeamName:A,getRankForTeam:ei},"recent-".concat(e.id||e.week))):(0,a.jsx)("p",{className:"p-4 text-center text-muted-foreground",children:"No games played yet."})})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{className:"text-xl font-semibold pb-2 text-center",children:"Current Week"}),(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[250px]",children:(0,a.jsxs)("div",{className:"relative w-40 h-40 sm:w-48 sm:h-48",children:[(0,a.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[(0,a.jsx)("circle",{className:"text-gray-200 dark:text-gray-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"46",cx:"50",cy:"50"}),(0,a.jsx)("circle",{className:"stroke-current progress-circle-school",strokeWidth:"8",fill:"transparent",r:"46",cx:"50",cy:"50",strokeDasharray:"".concat(er.weekProgressValue," 289"),strokeLinecap:"round",style:{transition:"stroke-dasharray 0.5s ease-out",color:"var(--school-primary)"}})]}),(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center px-2",children:[(0,a.jsxs)("span",{className:"text-3xl sm:text-4xl font-bold",children:[Y," / 21"]}),(0,a.jsx)("span",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Weeks Completed"})]})]})})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{className:"text-xl font-semibold pb-2 text-center",children:"Team Stats Summary"}),(0,a.jsx)(n.Wu,{className:"p-0",children:(0,a.jsxs)("div",{className:"divide-y divide-border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 sm:p-4 hover:bg-muted/50",children:[(0,a.jsx)("span",{className:"text-sm sm:text-base text-muted-foreground",children:"Points Per Game"}),(0,a.jsx)("span",{className:"text-lg sm:text-xl font-bold text-blue-600 dark:text-blue-400",children:er.ppg})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 sm:p-4 hover:bg-muted/50",children:[(0,a.jsx)("span",{className:"text-sm sm:text-base text-muted-foreground",children:"Points Allowed"}),(0,a.jsx)("span",{className:"text-lg sm:text-xl font-bold text-red-600 dark:text-red-400",children:er.pa})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 sm:p-4 hover:bg-muted/50",children:[(0,a.jsx)("span",{className:"text-sm sm:text-base text-muted-foreground",children:"Point Differential"}),(0,a.jsxs)("span",{className:"text-lg sm:text-xl font-bold ".concat(parseFloat(er.diff)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[er.diffSign,er.diff]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 sm:p-4 hover:bg-muted/50",children:[(0,a.jsx)("span",{className:"text-sm sm:text-base text-muted-foreground",children:"Conference Win %"}),(0,a.jsx)("span",{className:"text-lg sm:text-xl font-bold text-purple-600 dark:text-purple-400",children:er.confWinPctFormatted})]})]})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{className:"text-xl font-semibold pb-2 text-center",children:"Stat Leaders"}),(0,a.jsx)(n.Wu,{className:"p-0",children:(0,a.jsxs)("div",{className:"divide-y divide-border",children:[(0,a.jsxs)("div",{className:"flex items-center p-3 sm:p-4 hover:bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex-1 mr-2",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Passing"}),(0,a.jsx)("div",{className:"font-semibold truncate",children:es.passingLeader?(0,a.jsx)("span",{className:"text-left",title:es.passingLeader.name,children:es.passingLeader.name}):"N/A"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg sm:text-xl font-bold text-blue-600 dark:text-blue-400",children:null!=(v=null==(e=es.passingLeader)?void 0:e.yards)?v:"-"}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"YDS"})]})]}),(0,a.jsxs)("div",{className:"flex items-center p-3 sm:p-4 hover:bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex-1 mr-2",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Rushing"}),(0,a.jsx)("div",{className:"font-semibold truncate",children:es.rushingLeader?(0,a.jsx)("span",{className:"text-left",title:es.rushingLeader.name,children:es.rushingLeader.name}):"N/A"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg sm:text-xl font-bold text-green-600 dark:text-green-400",children:null!=(w=null==(t=es.rushingLeader)?void 0:t.yards)?w:"-"}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"YDS"})]})]}),(0,a.jsxs)("div",{className:"flex items-center p-3 sm:p-4 hover:bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex-1 mr-2",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Receiving"}),(0,a.jsx)("div",{className:"font-semibold truncate",children:es.receivingLeader?(0,a.jsx)("span",{className:"text-left",title:es.receivingLeader.name,children:es.receivingLeader.name}):"N/A"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg sm:text-xl font-bold text-yellow-600 dark:text-yellow-400",children:null!=(S=null==(s=es.receivingLeader)?void 0:s.yards)?S:"-"}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"YDS"})]})]}),(0,a.jsxs)("div",{className:"flex items-center p-3 sm:p-4 hover:bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex-1 mr-2",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Tackles"}),(0,a.jsx)("div",{className:"font-semibold truncate",children:es.tacklesLeader?(0,a.jsx)("span",{className:"text-left",title:es.tacklesLeader.name,children:es.tacklesLeader.name}):"N/A"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg sm:text-xl font-bold text-red-600 dark:text-red-400",children:null!=(_=null==(p=es.tacklesLeader)?void 0:p.total)?_:"-"}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"TKL"})]})]})]})})]})]}),(0,a.jsx)("div",{className:"flex justify-center pt-4",children:(0,a.jsxs)(x.Lt,{children:[(0,a.jsx)(x.tv,{asChild:!0,children:(0,a.jsxs)(c.$,{variant:"destructive",className:"px-6 py-3 text-base sm:px-8 sm:py-4 sm:text-lg",children:["End ",E," Season"]})}),(0,a.jsxs)(x.EO,{children:[(0,a.jsxs)(x.wd,{children:[(0,a.jsxs)(x.r7,{children:["End ",E," Season?"]}),(0,a.jsxs)(x.$v,{children:["This will finalize stats and records for ",E,", reset the schedule, and advance to the ",E+1," season. This cannot be undone."]})]}),(0,a.jsxs)(x.ck,{children:[(0,a.jsx)(x.Zr,{children:"Cancel"}),(0,a.jsx)(x.Rx,{onClick:el,className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:"Confirm End Season"})]})]})]})}),M&&(0,a.jsx)(y.A,{player:M,isOpen:z,onClose:B})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[201,13,121,649,930,88,808,441,684,358],()=>t(2933)),_N_E=e.O()}]);