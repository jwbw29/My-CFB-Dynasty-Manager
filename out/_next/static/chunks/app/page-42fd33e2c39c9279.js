(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{661:(e,t,a)=>{"use strict";a.d(t,{DynastyProvider:()=>s,_:()=>l});var r=a(5155),o=a(2115),c=a(5383);let n=(0,o.createContext)(void 0),l=()=>{let e=(0,o.useContext)(n);if(void 0===e)throw Error("useDynasty must be used within a DynastyProvider");return e},s=e=>{let{children:t}=e,[a,l]=(0,o.useState)(null),[s,i]=(0,o.useState)(!1),[g,u]=(0,o.useState)(0),[d,m]=(0,o.useState)(0),[h,f]=(0,o.useState)(0),[p,y]=(0,o.useState)({}),[_,S]=(0,o.useState)({}),[v,x]=(0,o.useState)(!1),[N,b]=(0,o.useState)(""),k=()=>u(e=>e+1);(0,o.useEffect)(()=>{if(a){y((0,c.bv)());let e=localStorage.getItem("dynasty_".concat(a));if(e)try{let t=JSON.parse(e);x(t.readyToAdvance||!1),b(t.nextAdvance||""),S(t.othersReceivingVotes||{})}catch(e){console.error("Error loading dynasty data:",e),x(!1),b(""),S({})}else x(!1),b(""),S({});let t=parseInt(localStorage.getItem("currentYear")||"2025"),r=(0,c.A0)(t);if(r&&r.length>0){let e=[...r].reverse().find(e=>"N/A"!==e.result),t=e?Math.min(e.week+1,21):0;f(t),m(t)}else f(0);i(!0),k()}else i(!1)},[a]);let C=(0,o.useCallback)((e,t,a)=>{y(r=>({...r,[e]:{...r[e]||{},[t]:a}})),k()},[]),w=(0,o.useCallback)((e,t)=>{let a=p[e]||{},r=t;for(;r>=0;){if(a[r])return a[r];r--}return Array.from({length:25},()=>({name:""}))},[p]),A=(0,o.useCallback)((e,t,a)=>{S(r=>({...r,[e]:{...r[e]||{},[t]:a}})),k()},[]),E=(0,o.useCallback)((e,t)=>(_[e]||{})[t]||"",[_]),P=(0,o.useCallback)(()=>{if(a)try{let e={};["coachProfile","currentYear","players","playerStats","allRecruits","allTransfers","allAwards","yearRecords","allTrophies"].forEach(t=>{let a=localStorage.getItem(t);if(a)try{e[t]=JSON.parse(a)}catch(e){console.error("Error parsing key ".concat(t," from localStorage"),e)}}),e.top25History=p,e.readyToAdvance=v,e.nextAdvance=N,e.othersReceivingVotes=_,e.userControlledTeams=(0,c.Cm)(),Object.keys(localStorage).forEach(t=>{if(t&&(t.startsWith("schedule_")||t.startsWith("yearStats_")||t.startsWith("offensiveNeeds_".concat(a))||t.startsWith("defensiveNeeds_".concat(a)))){let a=localStorage.getItem(t);if(a)try{e[t]=JSON.parse(a)}catch(e){console.error("Error parsing dynamic key ".concat(t),e)}}}),localStorage.setItem("dynasty_".concat(a),JSON.stringify(e));let t=localStorage.getItem("dynasties");if(t&&e.coachProfile&&e.currentYear){let r=JSON.parse(t).map(t=>t.id===a?{...t,coachName:e.coachProfile.coachName||t.coachName,schoolName:e.coachProfile.schoolName||t.schoolName,currentYear:e.currentYear||t.currentYear,lastPlayed:new Date().toISOString()}:t);localStorage.setItem("dynasties",JSON.stringify(r))}}catch(e){console.error("Error saving dynasty data:",e)}},[a,p,v,N,_]);return(0,r.jsx)(n.Provider,{value:{currentDynastyId:a,isDynastyLoaded:s,setCurrentDynastyId:l,saveDynastyData:P,dataVersion:g,refreshData:k,latestUnlockedWeek:d,activeWeek:h,top25History:p,setActiveWeek:e=>{let t=Math.max(0,Math.min(e,21));f(t),t>d&&m(t)},advanceWeek:()=>{f(e=>Math.min(e+1,21))},updateRankingsForWeek:C,getRankingsForWeek:w,updateOthersReceivingVotes:A,getOthersReceivingVotes:E,readyToAdvance:v,nextAdvance:N,setReadyToAdvance:e=>{x(e),k()},setNextAdvance:e=>{b(e),k()}},children:t})}},1923:(e,t,a)=>{"use strict";a.d(t,{L:()=>s,Q:()=>i});var r=a(5155),o=a(2115),c=a(2457),n=a(9434);let l={xs:"w-4 h-4",sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16","2xl":"w-24 h-24"},s=e=>{let{teamName:t,size:a="md",showFallback:s=!0,className:i="",onClick:g}=e,[u,d]=(0,o.useState)(0),[m,h]=(0,o.useState)(!1),f=(0,c.NJ)(t),p=f[u];if(m){if(!s)return null;let e=t.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,3);return(0,r.jsx)("div",{className:(0,n.cn)(l[a],"bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center text-xs font-bold text-gray-700 dark:text-gray-300",g&&"cursor-pointer",i),onClick:g,title:t,children:e})}return(0,r.jsx)("img",{src:p,alt:"".concat(t," logo"),className:(0,n.cn)(l[a],"object-contain rounded",g&&"cursor-pointer",i),onError:()=>{u<f.length-1?d(u+1):h(!0)},onClick:g,title:t,loading:"lazy"})},i=e=>{let{conference:t,size:a="sm",showFallback:s=!0,className:i=""}=e,[g,u]=(0,o.useState)(!1),d=(0,c.h0)(t);return g&&!s?null:g&&s?(0,r.jsx)("span",{className:(0,n.cn)("text-xs font-medium text-gray-600 dark:text-gray-400",i),children:t}):(0,r.jsx)("img",{src:d,alt:"".concat(t," logo"),className:(0,n.cn)(l[a],"object-contain",i),onError:()=>{u(!0)},title:t,loading:"lazy"})}},2457:(e,t,a)=>{"use strict";a.d(t,{NJ:()=>c,h0:()=>n,nJ:()=>l});var r=a(9874);function o(e){let t=r.Sy.find(t=>t.name===e||t.name.toLowerCase()===e.toLowerCase()||t.abbrev===e);if(!t){let t=e.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"");return"/logos/".concat(t,"_300x300.png")}let a=t.name.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_&]/g,""),o=t.nickName.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_&]/g,"");return"/logos/".concat(a,"_").concat(o,"_300x300.png")}function c(e){let t=r.Sy.find(t=>t.name===e||t.name.toLowerCase()===e.toLowerCase()||t.abbrev===e);if(!t){let t=e.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_&]/g,"");return["/logos/".concat(t,"_300x300.png"),"/logos/".concat(t,"_logo_300x300.png"),"/logos/".concat(e.replace(/\s+/g,"_"),"-300x300.png")]}let a=t.name.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_&]/g,""),o=t.nickName.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_&]/g,"");return["/logos/".concat(a,"_").concat(o,"_300x300.png"),"/logos/".concat(a,"_").concat(o,"_logo_300x300.png"),"/logos/".concat(t.name.replace(/\s+/g,"_"),"_").concat(t.nickName.replace(/\s+/g,"_"),"_300x300.png")]}function n(e){let t=e.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"");return"/logos/conferences/".concat(t,"_logo_300x300.png")}function l(e){let t=r.Sy.find(t=>t.name===e||t.name.toLowerCase()===e.toLowerCase()||t.abbrev===e);return t?{...t,logoPath:o(t.name),conferenceLogo:n(t.conference)}:{name:e,nickName:"",conference:"",logoPath:o(e),conferenceLogo:""}}},2933:(e,t,a)=>{Promise.resolve().then(a.bind(a,2146)),Promise.resolve().then(a.bind(a,255)),Promise.resolve().then(a.bind(a,7631))}},e=>{var t=t=>e(e.s=t);e.O(0,[201,13,121,649,930,88,385,95,441,684,358],()=>t(2933)),_N_E=e.O()}]);